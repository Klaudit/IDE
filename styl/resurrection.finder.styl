@import "../../Framework/themes/default/kdfn"
@import "../../Main/styl/appfn"
@import "nib/gradients"

active-color       = #1B2224
finderDimmedColor1 = #cccccc
finderDimmedColor2 = #c2c2c2
@css {
/*
FINDER stylesheet
resurrection.finder.styl
*/
}

.kdlistitemview-finderitem
  height              auto
  min-height          22px
  font-size           11px
  color               #5e7074
  noTextSelection()

  &:first-child
    margin-top        0px

  .chevron
    abs()
    top               0
    right             4px
    z-index           2
    float             none
    display           none
    size              22px,22px
    margin            0
    kdfsprite()
    bg                position,-180px -360px

  &.selected
    color             white
    text-shadow       0 -1px 0 rgba(0,0,0,0.22)
    // background        linear-gradient(top, finderSelectedColor2 0%, finderSelectedColor1 50%)
    bg                color, finderSelectedColor1

    // I'll find a better place for it ~ GG
    .vm
      span.path-select
        display     block
        bg          position, -220px -520px
    .title
      color white
      text-shadow none
    &+.selected
      selectedNeighbor()
    &+.jtreeview
      .kdlistitemview-finderitem
        &:first-child
          &.selected
            selectedNeighbor()

  &.unsaved
    span.icon
      color           black!important
      font-size       14px
      text-indent     -2px
      line-height     10px
      vertical-align  top
      &:before
        content       "*"

  &.selected
    span.chevron
      display       block
      bg            position,-180px -380px

  &:hover
    span.chevron
    .vm span.path-select
      display       block

  &.expanded
    > div
      span.icon
        sprite      app '16-folder-expanded'


  &.being-inline-edited
    .chevron
      hidden()

  &.being-deleted
    background        linear-gradient(top, rgb(199,81,29) 100%,rgb(168,70,25) 44%)
    height            22px
    .kdview.delete-container
      padding         0 10px
    label
      color           white
    button.kdbutton
      margin          2px 15px 0 0
      padding         2px 4px 2px 4px
      width           auto
      font-weight     normal
      fr()

  &.items-hovering
    background        rgba(136, 183, 214, 0.25)
    text-shadow       none

  &.drop-target
    background        rgb(136, 183, 214)
    color             white
    text-shadow       none

  a.cancel
    abs()
    size            15px, 15px
    bg              position, -82px -222px
    right           5px
    top             3px
    kdfsprite()
    &:focus
    &:active
      bg            position, -62px -242px

  > div
    line-height       22px
    height            100%
    width             auto
    .title
      cursor          default
      font-weight     normal
      margin-right    40px
      display         block
      overflow        hidden
      text-overflow   ellipsis
      white-space     nowrap

    form
      height          22px

    input.kdinput.text
      margin          2px 5px 0 0
      height          17px
      line-height     1em
      border          none
      shadow          inset 0 1px 1px rgba(0,0,0,.44)
      rounded         2px
      fl()

    button.kdbutton
      margin          2px 10px 0 0
      padding         2px 4px 2px 4px
      width           auto
      font-weight     normal
      fr()

    .kdloader
      margin        2px 3px
      fl()

    &.rename-container
      height        22px
      padding-right 25px
      input.hitenterview
        bg          image, none
        width       100%
        margin      2px 0
      a.cancel
        bg          position, -62px -242px

  .progressbar-container
    hidden()

  &.progress
    vendor          transition-duration, 100ms
    opacity         0.7
    .title
      width         70px
    .progressbar-container
      visible()
      abs           8px 30px
      size          40px 5px
      .bar
        gradient    #afafaf, #afafaf
        shadow      none
    &.being-deleted
    &.being-edited
      .progressbar-container
        hidden()
    .vm
      .vm-info
        hidden()
      .title
        width       auto
      & + .progressbar-container
        top         23px
        right       11px
        width       187px

.file-container

  .vm
  .file
  .mount
  .folder
  .broken
  .section
    font-size       11px

    span.icon
    span.arrow
      kdfsprite()
      fl()

    span.icon
    span.path-select
      margin        2px 3px
      size          16px,16px
    span.arrow
      margin        3px 3px
      margin-left   0
      size          10px,16px
      bg            position, -1000px -1000px

  .vm
    margin-left     0 !important
    height          32px
    padding-top     1px
    padding-bottom  3px

    &.online
      span.icon
        bg          position, -20px -140px !important

    span.arrow
      width         0

    span.icon
      bg            position, 0px -140px !important
    span.chevron
      top           3px

    span.path-select
      top           0
      size          18px,18px
      right         22px
      display       none
      bg            position, -220px -540px
      kdfsprite()
      abs()

    span.vm-info
      top           20px
      left          22px
      font-size     10px
      font-style    italic
      opacity       .7
      line-height   10px
      abs()
      a
        text-decoration none

    div.vm-toggle
      top           3px
      right         20px
      abs()

  .folder
  .mount
    span.icon
      sprite        app '16-folder'
    span.icon.application
      sprite      app '16-app'

  .folder
    span.icon
      &.app
        sprite      app '16-app'

  .broken
    span.icon
      bg            position, -60px -140px

  .file
    span.icon
      sprite        app '16-file'
      // &.code
      //   bg          position, -40px -180px
      // &.image
      //   bg          position, -40px -200px
      // &.archive
      //   bg          position, -40px -220px
      // &.new-file
      //   bg          position, -40px -240px
      // &.video
      //   bg          position, -40px -260px
      // &.sound
      //   bg          position, -40px -280px
      // &.text
      //   bg          position, -40px -300px