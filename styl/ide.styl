@import "../../Framework/src/themes/default/kdfn"
@import "../../Main/styl/appfn"

@css {
/*
IDE stylesheet
ide.styl
*/
}

// variables
dark-panel-bg         = #2B2B2B
dark-tab-header-bg    = #131313
dark-active-tab-color = #9C9C9C
dark-tab-color        = #5C5C5C
text-color-green      = #4EA04C


// theming
body.ide.dark
  bg                    color, dark-panel-bg
  .application-page
    border-left         2px solid dark-tab-header-bg
    &.blur
      .panel
        vendor          filter, blur(2px)

  #kdmaincontainer .kdtabview
    bg                  color, dark-panel-bg

  .kdtabhandlecontainer
    bg                  color, dark-tab-header-bg

  .kdtabhandle
    color               dark-tab-color
    &.active
      bg                color, dark-panel-bg
      color             dark-active-tab-color
    &.plus
      border-left-color transparent

  .ace-koding, .ace-tm
    bg                  color, dark-panel-bg
    .ace_gutter
      bg                color, dark-panel-bg
      color             dark-active-tab-color
    .ace_gutter-active-line
      bg                color, dark-tab-header-bg
    .ace_print-margin
      bg                color, #3F3F3F

  .editor-bottom-bar
    bg                  color, dark-tab-header-bg

  .kdsplitview-resizer
    bg                  color, dark-tab-header-bg

  .terminal .green-on-black.console
    bg                  color, dark-panel-bg

  .kdtabhandle.plus
    r-sprite            'ide', 'tab-plus'
    border-left         none
    margin              4px
    .icon
      bg                image, none
      margin            0

  .ace-find-replace-view
    bottom              34px !important
    bg                  color, dark-tab-header-bg
    border-bottom-color dark-tab-header-bg
    box-shadow          inset 0 -1px 0 dark-tab-header-bg
    a, input
      border-color      dark-panel-bg
      &.active
        border-color    dark-panel-bg !important

    input
      bg                color, dark-panel-bg
      box-shadow        0 1px 0 dark-panel-bg
      color             dark-active-tab-color
      &:hover
        bg              color, dark-panel-bg
        border          1px solid dark-panel-bg
        box-shadow      0 1px 0 dark-panel-bg
      &:focus
        bg              color, dark-panel-bg
        border          1px solid dark-panel-bg
        box-shadow      0 1px 0 dark-panel-bg
    button
      bg                color, dark-panel-bg
      color             dark-active-tab-color
      border            1px solid dark-panel-bg
      &:hover
        bg              color, dark-panel-bg
        opacity         .8

// common app styling
.ide
  .kdsplitview-resizer
    z-index             1000 // yes!
    &.vertical
      width             2px
    &.horizontal
      height            2px

  .ace_editor
    height              100%

  .kdtabhandle.dummy
  .kdview.dummy
    display             none

  .application-tabview
    >.kdtabpaneview
      overflow          visible

      >.pane
        overflow        visible

  .kdselectbox
    bg                  color, transparent
    border              1px solid #555555
    rounded             3px
    width               120px
    borderBox()
    .arrows
      r-sprite          'finder', 'expanded'
      top               8px

  .nfinder.file-container
  .ide-files-tab .kdtabhandle-tabs
    min-width           234px

// sidebar icons
.ide-files-tab
  .application-tab-handle-holder
    vendor              transition, none
  .kdtabhandle
    b
      text-indent       -1000px
    &.files
      r-sprite          'ide', 'files-off'
      &.active
        r-sprite        'ide', 'files-on'
    &.vms
      r-sprite          'ide', 'vms-off'
      &.active
        r-sprite        'ide', 'vms-on'
    &.settings
      r-sprite          'ide', 'settings-off'
      &.active
        r-sprite        'ide', 'settings-on'
  .toggle
    display             inline-block
    r-sprite            'ide', 'nav-collapse'
    right               0
    abs()
    pointer()

.sidebar-collapsed .toggle
  r-sprite              'ide', 'nav-expand'

.sidebar-collapsed
  .ide-files-tab
    .kdtabhandle-tabs
      position          relative
      top               38px

// floating left
.floating.kdsplitview-panel
  .ide-files-tab
    .application-tab-handle-holder
      size              39px, 100%
      fl()
    .kdtabhandle
      float             none
    .application-tabview
      top               0
      left              0
      margin-left       39px
      height            100%
      abs()
      fl()
    .kdtabpaneview.active
      margin-right      39px
      width             auto
      border-right      2px solid dark-tab-header-bg


// vm list pane
.vm-list-pane
  height                auto

  .vm-item
    size                auto, 39px
    bg                  color, dark-tab-header-bg
    position            relative
    margin              16px 13px
    rounded             2px
    .domain-name
      text-decoration   underline
      line-height       39px
      color             #949290
      font-size         13px
      margin-left       14px
      pointer()
    .actions-menu
      border            none
      display           inline-block
      r-sprite          'ide', 'horizontal-dots'
      pointer()
      abs()
      right             12px
      top               11px
      &:focus
        box-shadow      none

  .buy-vm-button
    rounded             2px
    color               #FFF
    margin              0 13px
    font-size           13px
    line-height         39px
    background          none
    display             block
    size                auto, 39px
    position            relative
    border              1px dashed #5A5A5A
    text-decoration     none
    text-align          center
    .icon
      display           inline-block
      r-sprite          'ide', 'add-vm'
      float             none
      vertical-align    sub
      margin-right      4px

// settings pane
.settings-pane
  line-height           20px
  font-size             12px
  .settings-header
    color               text-color-green
    padding             25px 20px 10px
  .kdselectbox
    min-width           100px
    display             block
    float               right
  p
    color               #D4CFC9
    padding             5px 20px
    clear               both
    borderBox()
    &.with-select
      line-height       32px
    .settings-on-off
      display           block
      float             right
      &.on
        bg              color, text-color-green
      &.off
        bg              color, dark-tab-header-bg

// key mappings
.key-mappings
  padding               50px
  font-size             13px
  size                  auto, auto
  .container
    min-width           370px
    width               45%
    margin-right        3%
    fl()
    p
      color             text-color-green
      margin-bottom     24px
  .key-map
    margin-bottom       16px
    overflow            hidden
  .keys
    overflow            hidden
    width               230px
    fl()
  .key
    size                60px, 33px
    line-height         33px
    text-align          center
    margin-right        12px
    text-transform      uppercase
    color               dark-tab-color
    border              1px solid #979797
    fl()
  .description
    color               #F4F1ED
    height              33px
    line-height         33px
    fl()

// status bar
.ide
  .kdsplitcomboview
    > .kdsplitview
      > .panel-1
        .pane-wrapper
          kalc          height, 100% \- 34px

  .status-bar
    abs()
    bottom              0
    width               100%
    height              34px
    line-height         34px
    color               dark-tab-color
    background          dark-tab-header-bg
    font-size           13px
    .status
      margin-left       12px
      fl()
      p
        display         inline-block
        &.line
          width         50px

    .actions-button
      abs()
      pointer()
      display           inline-block
      right             2px
      r-sprite          'ide', 'hamburger'

  .status-bar-menu
    top                 inherit !important
    position            fixed
    bottom              34px
    ul
      bg                color, dark-tab-header-bg !important
      padding           2px !important
      rounded           0 !important
    li
      color             #E6E1DC !important
      rounded           0 !important
      padding-left      15px !important
      &:hover
        bg              color, dark-panel-bg !important
      &.selected
        bg              color, dark-panel-bg !important
      &.separator
        border-bottom   1px solid dark-panel-bg !important
        margin          14px !important

  .syntax-selector
    padding             3px 10px 3px 0
    span
      font-size         13px
    .kdselectbox
      height            24px
      margin-left       29px
      span
        line-height     24px !important
        height          24px !important
      .arrows
        r-sprite        'finder', 'expanded'
        top             2px

// file-finder
.ide .file-finder
  abs()
  z-index               10000
  top                   96px
  left                  50%
  margin-left           -235px
  width                 450px
  padding               10px
  rounded               5px
  bg                    color, dark-tab-header-bg
  vendor                box-shadow, 0px 2px 28px rgba(0, 0, 0, .5)
  .icon
    abs()
    z-index             2
    top                 20px
    right               20px
    r-sprite            'ide', 'search'
  .kdinput
    color               #928D87
    bg                  color, #D4CFC9
    border              1px solid dark-panel-bg
    height              36px
    font-size           14px
    &.has-text
      color             dark-tab-header-bg !important
    &:focus
      box-shadow        none
      border            1px solid dark-panel-bg
    &:hover
      border            1px solid dark-panel-bg
  .kdlistitemview.selected
    rounded             3px
    bg                  color, dark-panel-bg
  .kdlistview
    max-height          200px
    overflow            auto !important
    margin-top          10px
  .warning
    padding             20px 20px 10px 20px
    color               #74706B
    font-size           14px
    text-align          center
  .file-item
    font-size           12px
    padding             12px
    width               auto
    p
      line-height       14px
    .name
      color             #D4CFC9
    .path
      color             #858585
    &:hover
      rounded           3px
      bg                color, dark-panel-bg
      pointer()

// content search view
.ide .search-result
  .filename
    color               #858585
    margin              30px 0 20px 20px
    font-size           14px
  pre
    font-family         Menlo, Monaco, Consolas, monospace
    margin              0 20px
    color               #d4cfc9
    width               auto
    font-size           14px
    line-height         20px
    overflow            hidden
    span
      fl()
      &.line-number
        width           30px
  .separator
    color               #d4cfc9
    margin              -5px 0 5px 20px
  .match
    bg                  color, #4EA04C
    color               #fff
    display             inline
    rounded             3px
    pointer()

// content search modal
.ide .content-search-modal
  .kdtabview
    bg                  color, #F9F7F3

  .kdmodal-inner
  .kdmodal-content
    margin              0 !important
    rounded             4px

  .formline.button-field
    height              55px !important
    margin-top          16px !important

  .kdtabview
    padding             25px 32px
    width               auto

  label
    font-size           14px
    margin              0 0 4px 0

  .findinput  label
  .whereinput label
    float               none

  .whereinput
    margin-bottom       28px

  .close-icon
    display             none

  .kdinput.text
    bg                  color, #FFF
    border              1px solid #E6E1DC
    rounded             3px
    &:hover
      border            1px solid #E6E1DC
    &:focus
      box-shadow        none

  .formline.switch
    size                180px, 35px
    label
      fl()
      left              45px
      position          relative
      top               -2px

  .switch
    .input-wrapper
      width             45px !important
      abs()

  .warningview
    margin-top          7px

  .notification
    height              42px
    line-height         42px
    text-align          center
    color               #FFF
    font-size           14px
    rounded             2px
    margin-bottom       26px
    bg                  color, #FECD77
    color               #846837
    &.error
      bg                color, #DC4832
      color             #FFF

  .kdbutton#cancel-button
    text-transform      capitalize
    border              none
    font-size           14px
    color               #767676
    padding             6px 12px !important
    margin              0 !important
    height              29px
    position            relative
    top                 9px
    left                -6px
    &:focus
      box-shadow        none

  .kdbutton#search-button
    rounded             5px !important
    bg                  color, #4EA04C
    height              45px
    padding             0
    padding             13px 18px 15px 19px
    span
      font-size         14px
      font-weight       normal
      line-height       45px
      position          relative
      top               -13px
    &.loading
      span
        top             0

  .icon
    abs()
    z-index             2
    top                 67px
    right               45px
    r-sprite            'ide', 'search'

// save as dialog
body.ide .kddialogview.save-as-dialog
  right                 auto
  left                  50%
  size                  390px, auto
  margin-left           -195px
  background            #F9F7F3

  .kddialog-wrapper
    padding             25px 32px 0
    margin              0 0 108px 0

  form
    .kdlabel
      font-size         14px
      color             #8B8B8B
      display           block
      margin            0 0 13px
      opacity           .99
      line-height       1em

    .kdinput
      margin            0 0 17px
      background        #fff
      border            1px solid #E6E1DC
      rounded           3px
      color             #9A9A9A
      font-size         14px

  .save-file-container
    background          #2B2B2B
    border              none
    rounded             3px

    .vm-header
      .buttons
        display         none

    .jtreeview-wrapper
      height            100%

    button.finder-mountvm
      display           none

  .kddialog-buttons
    background          transparent
    border              none
    rounded             0 0 4px 4px
    padding             0 32px 32px
    borderBox()

    .kdbutton.green
      background        #4EA04C
      rounded           5px
      width             82px

    .kdbutton.nobg
      background        transparent
      padding           0
      margin            0 25px 0 0

      .button-title
        color           #767676
        text-decoration underline

// machine state modal
.ide-modal-overlay
  abs()

.ide-machine-state
  bg                    color, #E7E7E7
  .kdmodal-inner
    margin              0
    bg                  color, #E7E7E7
  .content-container
    text-align          center
    margin-bottom       30px

    .error-message
      padding           12px 0
      margin            22px 0 -30px 0
      background        #D95F5F
      color             #FFF
      p
        font-size       12px
        line-height     17px

  .state-label
    margin              14px 0 18px 0
    font-size           18px
    color               #7D7D7D
    font-weight         600
    strong
      color             #404040
    .icon
      display           inline-block
      r-sprite          'ide', 'vm-state-stopped'
      margin-right      11px
      vertical-align    middle
    &.starting
    &.building
      .icon
        r-sprite        'ide', 'vm-state-starting'
    &.running
      .icon
        r-sprite        'ide', 'vm-state-running'
  .kdbutton
    rounded             4px !important
    bg                  color, #4EA04C !important
    height              40px !important
    &:focus
      vendor            box-shadow, none !important
    &.turn-on
      padding           0 20px 0 14px
      .icon
        r-sprite        'ide', 'turn-on'
        margin          -2px 8px 0 0 !important
        padding         0
  .footer
    bg                  color, #DCDCDC
    font-size           14px
    color               #5E5E5E
    padding             25px 30px
    rounded             0 0 6px 6px
    .upgrade-link
      color             #4EA04C
      display           block
      margin-bottom     15px
    .info-link
      color             #A8A8A8
      font-size         12px
      text-decoration   none
      border-bottom     1px solid #A8A8A8
    .more-icon
      display           inline-block
      r-sprite          'ide', 'question-mark'
      margin-left       8px
      top               5px
      position          relative

  .progressbar-container
    size                268px, 20px
    margin              33px auto
    border              none
    rounded             4px
    bg                  image, none
    bg                  color, #D8D8D8
    .bar
      bg                image, none
      bg                color, #5DC45A
      vendor            box-shadow, none
      rounded           4px

// Collaboration
.ide
  .firepad
    height              100%
